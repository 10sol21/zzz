<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link href="css/mainstyle.css" rel='stylesheet'>
<title>Insert title here</title>
<script src="//code.jquery.com/jquery-3.7.1.min.js"></script>

<script th:inline="javascript">
	$(()=>{
		let m = [[${msg}]];
		if (m!=null){
			alert(m);
		}
	})
</script>

</head>
<body style="background-color: #E0FFFF">
	<div>
	<div th:insert="~{header :: div}"></div>
	
	</div>
	

		<div class="allBigBox">
		<div th:if="${session.member != null}">
			<p th:text="|현재 로그인중인 계정: ${session.member.m_nick}|"></p>
			<button onclick="location.href='/member/logout'">로그아웃</button>
			</div>
			<div th:if="${session.member == null}">
			<button onclick="location.href='/member/loginfrm'">로그인</button>
			<button onclick="location.href='/member/joinfrm'">회원가입</button>
		</div>


			<form action="/main" method="post">
				<input type="text" name="championname" autofocus required
					placeholder="챔피언 및 소환사 이름"style="  width: 50%;
  					border: 1px solid #bbb;
  					border-radius: 8px;
  					padding: 10px 12px;
  					font-size: 14px;"> 
  				<input type="submit">

				<br>
				<hr>
				<br>
				<br>

				<table
					style="border: 1px solid black; text-align: center; width: 50%; margin-left: auto; margin-right: auto;">
					<tr>
						<th>&ensp;글 번호&ensp;</th>
						<th>&ensp;제목&ensp;</th>
						<th>&ensp;작성자&ensp;</th>
						<th>&ensp;작성 날짜&ensp;</th>
						<th>&ensp;조회수&ensp;</th>
					</tr>

					<th:block th:if="${bList}==null">
						<tr>
							<td colspan="5">글이 존재하지 않습니다.</td>
						</tr>
					</th:block>

					<th:block th:if="${bList}!=null" th:each="b : ${bList}">
						<tr>
							<td th:text=" ' &ensp; ' + ${b.b_num} + ' &ensp; '"></td>
							<td><a th:href="|/board/detail?b_num=${b.b_num}|"
								th:text=" ' &ensp; ' + ${b.b_title} + ' &ensp; '"></a></td>
							<th:block>
								<td th:if="${b.unnamed == 0}"
									th:text=" ' &ensp; ' + ${b.b_writer} + ' &ensp; '"></td>
								<td th:if="${b.unnamed == 1}"
									th:text=" ' &ensp; 익명) ' + ${b.b_writerNick} + ' &ensp; '"></td>
							</th:block>
							<td th:text=" ' &ensp; ' + ${b.b_date} + ' &ensp; '"></td>
							<td th:text=" ' &ensp; ' + ${b.b_view} + ' &ensp; '"></td>
						</tr>
					</th:block>

				</table>

			</form>
		</div>


	
</body>
</html>