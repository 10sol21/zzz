<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<button onclick="submitForm()">더보기</button>

<body>
	<script>
		
		var start = 0;

		$(document).ready(function () {
			// URL에서 파라미터를 가져옴
			var params = new URLSearchParams(window.location.search);
			var name = params.get('name');
			var tag = params.get('tag');
			var start = 0;


			// AJAX 요청 실행
			$.ajax({
				type: "GET",
				url: "http://127.0.0.1:8000/summoner/search",
				data: {name: name, tag: tag, start: start},
				success: function (result) {
					console.log(result);

					alert("Insert 완료 되었습니다!");
				},
				error: function (xhr, status, error) {
					console.error(xhr.status + ': ' + xhr.statusText);
					alert("Insert 실패했습니다. 다시 시도해주세요.");
				}
			});
		});

		function submitForm() {
			var params = new URLSearchParams(window.location.search);
			var name = params.get('name');
			var tag = params.get('tag');
			start += 5;
		

			// AJAX 요청 실행
			$.ajax({
				type: "GET",
				url: "http://127.0.0.1:8000/summoner/search",
				data: {name: name, tag: tag, start: start},
				success: function (result) {
					console.log(result);

					alert("Insert 완료 되었습니다!");
				},
				error: function (xhr, status, error) {
					console.error(xhr.status + ': ' + xhr.statusText);
					alert("Insert 실패했습니다. 다시 시도해주세요.");
				}
			});
		};
	</script>
</body>

</html>